{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/2019-08-20-kafka-in-odh/","result":{"data":{"markdownRemark":{"id":"f169e7eb-d7b5-59ad-9df5-a7766d630497","excerpt":"Apache Kafka  The Open Data Hub is a reference architecture running on OpenShift that incorporates a variety of open source projects to function as an ML-as-aâ€¦","html":"<h2>Apache Kafka</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/25c0592eb924c9e89a998334cda60a2a/fc2a6/apache_kafka.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVR42n1STcsBURT2i+ZXmH9gIVKEphQaG5MiU8qUhZQFsx8fySxmQchGVr4XpFixsFAiWTLP2z01E73e99SZe++cc5/7nOccBwBsNhtIkoTlcsmOeL1etpum+eHv/7+Zg31yuRzi8ThkWcblcqEHmP11yTIr/p5HgLvdDjzPYzQaIZVKIRAIENvxeEzgs9kM6/Uah8MBhmGgVqthu90SwPP5/M2QJXg8HsRiMfj9fiQSCUynUyiKgv1+j+PxSACn0wnpdBrVahWtVosAbrcbHo+HLYnjfr8T0Pl8RjAYRKfTIWcmCAIqlQo0TUMmk6EHQqEQCoUCwuEwdF2nfTQatRkTw0ajAbfbTQGv10t6shJdLhcikQixajabSCaTKBaLVDbHccjn81BVldZ2u/2podPpJA1Zt30+H+bzORaLBfr9Pnq9HkqlErrdLiaTCckwHA4xGAxQr9dRLpcpn5Vud1kURWSzWVyvV5u+pct/Hf46NqyTrJzVamXPoTVzrIvvc/ktZq0M8AeHJF8M9xRkggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Apache Kafka\"\n        src=\"/static/25c0592eb924c9e89a998334cda60a2a/fc2a6/apache_kafka.png\"\n        srcset=\"/static/25c0592eb924c9e89a998334cda60a2a/772e8/apache_kafka.png 200w,\n/static/25c0592eb924c9e89a998334cda60a2a/e17e5/apache_kafka.png 400w,\n/static/25c0592eb924c9e89a998334cda60a2a/fc2a6/apache_kafka.png 450w\"\n        sizes=\"(max-width: 450px) 100vw, 450px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>The Open Data Hub is a reference architecture running on OpenShift that incorporates a variety of open source projects to function as an ML-as-a-service platform. Given the huge amounts of data to be ingested and processed, it's crucial to have a reliable streaming platform. To solve this problem we use Apache Kafka.</p>\n<p>Apache Kafka is an open-source stream-processing software platform. It is used for building real-time data pipelines and streaming apps. It is horizontally scalable, fault-tolerant, wicked fast, and runs in production in thousands of companies.</p>\n<p>Apache Kafka is a distributed streaming platform. What exactly does that mean?\nA streaming platform has three key capabilities:</p>\n<ol>\n<li>Publish and subscribe to streams of records, similar to a message queue or enterprise messaging system.</li>\n<li>Store streams of records in a fault-tolerant durable way.</li>\n<li>Process streams of records as they occur.</li>\n</ol>\n<p>Kafka is generally used for two broad classes of applications:</p>\n<p>Building real-time streaming data pipelines that reliably get data between systems or applications\nBuilding real-time streaming applications that transform or react to the streams of data</p>\n<h2>Strimzi Operator</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 601px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f046a640ad3345cff5c6538a0cff7bc5/d8f62/strimzi.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABVklEQVR42mMw84jmE9VwbuWUNj/CLGTsykAp4JG32aXrGPO/rGf+H6fIwv9skqaBIHEpLXc/CV1XOwldV08xXQ9nMR1PVxFNF1UJLSctcS03MzFdbyUxHQ89UW03KwkdDy9JbVdrEJ8hv23WhQN3nv/feP7WN4eIgv98yg7hMnre7pI67rcldd3SJHU9zkvqeMyX1PF8KantsUpSx2ONpK7nKSkd952Suh63pfQ86iV13E5J6LjPkdT1mMfQuXTrlhNf/v+fdeb+34SO+f/1PZLcRNScPCW13e6La7knSGi7T5bU9SiQ0Ha/J6ntNkNCx2OFpK77VrCFOm77JXTclkloux2W0PHoktR2bwT5jiO6YWp1yaLteyKbZ9qABGR0PXUldL3spDSchaVB3jT0kpfUcdOQ1HUzBtES2l6a0gYuqhLaLprieq7m4tpujuKaruaiWvYSAPclZFP4fqvoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Strimzi\"\n        src=\"/static/f046a640ad3345cff5c6538a0cff7bc5/d8f62/strimzi.png\"\n        srcset=\"/static/f046a640ad3345cff5c6538a0cff7bc5/772e8/strimzi.png 200w,\n/static/f046a640ad3345cff5c6538a0cff7bc5/e17e5/strimzi.png 400w,\n/static/f046a640ad3345cff5c6538a0cff7bc5/d8f62/strimzi.png 601w\"\n        sizes=\"(max-width: 601px) 100vw, 601px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://strimzi.io/\">Strimzi</a> is based on Apache Kafka, a popular platform for streaming data delivery and processing. Strimzi makes it easy to run Apache Kafka on Kubernetes.</p>\n<p>Strimzi provides three operators:</p>\n<ol>\n<li>Cluster Operator</li>\n</ol>\n<p>Responsible for deploying and managing Apache Kafka clusters running on a Kubernetes cluster.</p>\n<ol start=\"2\">\n<li>Topic Operator</li>\n</ol>\n<p>Responsible for managing Kafka topics within a Kafka cluster running on a Kubernetes cluster.</p>\n<ol start=\"3\">\n<li>User Operator</li>\n</ol>\n<p>Responsible for managing Kafka users within a Kafka cluster running on a Kubernetes cluster.</p>\n<h2>Monitoring</h2>\n<p>Kafka deployed usind ODH Operator comes pre-configured to expose metrics out of the box which are scraped using Prometheus and Visualized using Grafana. This gives us a holistic view of the Kafka cluster's health and performance.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a20d16a42c4e4ef06bca0940f4e648b2/3c492/kafka_metrics.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAC4jAAAuIwF4pT92AAABkklEQVR42nWQS4sTQRRG+1e4mDGpR1dVuqur388EFDLxgT9tEHeDiEKC4GYwE/yHZ+iOi3Hh4nDu/e63ulF5zBiODc2pIP+aEr6klKeM8djSn2qKH55wnzD3+mOz5NUpED4nFN893am6Zj8D+b0nqs+B9lzQXHLKX9lSqi4Z01PPcKkpHj3hIaE6Z9S/525J9RTIv6VUjxnNOdCdS+o/geLBE5mDQu8V8UFh9wr9RjFn8Z1cSD9awocU/8lhD9ebe6cxbyX2bt41ei+JD5r0fUY0pJLKSlon6RNF4ySNlfSpotsoRq/ovV48eUWXXPMuEeTG0IUWfSMRr1bs2i3RrrdsO7MwtTHb1rLrHLvBsm0NU+0WxtoyLjZMnWOoDcFvmKaJNHGsXt8y9B2RWK2ZkeurF9YC8XfXUuOMI1YaJQRaCmIpMErgtMCZGBvHaKUw1hF5K/Du/2QbSTG/JZM0QdIViqHSjJWmCYK6CEzjSOIsG+eIqtxRBkMZ7D9Ui82L2VJmluIFITU4Y7DGsLq5RSvJM68VAUqrDgjJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Kafka Monitoring\"\n        src=\"/static/a20d16a42c4e4ef06bca0940f4e648b2/5a190/kafka_metrics.png\"\n        srcset=\"/static/a20d16a42c4e4ef06bca0940f4e648b2/772e8/kafka_metrics.png 200w,\n/static/a20d16a42c4e4ef06bca0940f4e648b2/e17e5/kafka_metrics.png 400w,\n/static/a20d16a42c4e4ef06bca0940f4e648b2/5a190/kafka_metrics.png 800w,\n/static/a20d16a42c4e4ef06bca0940f4e648b2/c1b63/kafka_metrics.png 1200w,\n/static/a20d16a42c4e4ef06bca0940f4e648b2/3c492/kafka_metrics.png 1300w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Sample Use Cases</h2>\n<ol>\n<li>\n<p>Data Ingestion: Internally we have a Kafka deployment for ingesting data and back it up to Elasticsearch and Ceph S3 for analysis using Logstash and s3 Connector. We have 3 Kafka and 3 zookeeper Brokers of 10 Tb each backed by Persistent Volumes with a peak throughput of around 20k messages per second and a sustained rate of ~12k messages per second.</p>\n</li>\n<li>\n<p>Data Streaming: For credit monitoring we have a kafka deployment which ingests credit data as a producer in near-real time and are consumed and sent to the seldon model-serving layer for risk monitoring and fraud detection.</p>\n</li>\n</ol>","frontmatter":{"title":"Apache Kafka in Open Data Hub","author":"mshah","categories":"features, kafka","preview":"The Open Data Hub community is happy to announce the addition of Apache Kafka to the Open Data Hub via Strimzi Operator. This makes deploying a message bus as a part of OpenDataHub a breeze.","date":"August 20, 2019"}}},"pageContext":{"id":"f169e7eb-d7b5-59ad-9df5-a7766d630497"}},"staticQueryHashes":["2604506565"],"slicesMap":{}}